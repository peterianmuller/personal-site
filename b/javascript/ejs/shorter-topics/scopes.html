<head>
  <link rel="stylesheet" type="text/css" href="../../../../main.css">
</head>


<p>&quot;Functions are the bread and butter of JavaScript programming&quot; (41). One way that functions prove to be super valuable data types in JavaScript derives from the idea of <a href="https://developer.mozilla.org/en-US/docs/Glossary/Scope">scopes</a>.</p>
<p>MDN describes a scope as &quot;the current context of execution. The context in which values and expressions are 'visible', or can be referenced&quot;</p>
<p>This sentence holds some powerful information - meaning that certain values, or variables and their values, are only able to be references in certain scopes, AKA when control is within functions. &quot;This behavior helps prevent accidental interference between functions. If all variables were shared by the whole program, it'd take a lot of effort to make sure no name is ever used for different purposes&quot; (43).</p>
<p>Each function is creates it's own environment and is able to do work on it's own variables - if those variables are treated correctly. There are also rules about which values a scope has access to. All function bodies have access to variables declared in scopes that are parent to them. Let's check out an example:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> myName <span class="op">=</span> <span class="st">&quot;Peter&quot;</span><span class="op">;</span>
<span class="kw">var</span> changeName <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span>
  myName <span class="op">=</span> <span class="st">&quot;Jose&quot;</span><span class="op">;</span>  
<span class="op">};</span>
<span class="kw">var</span> nameChanger <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span>
    <span class="kw">var</span> myName <span class="op">=</span> <span class="st">&quot;Laura&quot;</span><span class="op">;</span>
<span class="op">};</span>

<span class="va">console</span>.<span class="at">log</span>(myName)<span class="op">;</span> <span class="co">//&quot;Peter&quot;</span>
<span class="at">nameChanger</span>()<span class="op">;</span>
<span class="va">console</span>.<span class="at">log</span>(myName)<span class="op">;</span> <span class="co">// &quot;Peter&quot;</span>
<span class="at">changeName</span>()<span class="op">;</span>
<span class="va">console</span>.<span class="at">log</span>(myName)<span class="op">;</span> <span class="co">// &quot;Jose&quot;</span></code></pre></div>
<p>The crucial difference here is that we have used the keyword <code>var</code> in <code>nameChanger</code> but not in <code>changeName</code>. When we omit the <code>var</code> keyword in a function's body and the reassign a name that has been declared in a parent scope, that function will reassign the parent scope variable upon invocation.</p>
<p>EJS also brings up the idea of degrees of locality. Functions housed within a parent function don't necessarily have access to each other's variables. This can lead to each nested function acting as it's own &quot;small universe&quot; of action.</p>
<pre><code>function AbbottCostello(){
  var conversation = &quot;&quot;;
  function question(questions){
    for (var i = 0; i &lt; questions; i++) { 
      conversation += &quot;Whose on First? &quot;
    }
  }
  
  function answer(answers) {
    for (var i = 0; i &lt; answers; i++) {
      conversation += &quot;Yes. &quot;;
    }
   }
    question(1);
    answer(1);
    question(2);
    answer(1);
    return conversation;
}
console.log(AbbottCostello()); //Whose on First? Yes. Whose on First? Whose on First? Yes. </code></pre>
<p>What's important here is that <code>question</code> and <code>answer</code> both declare their own <code>i</code> counter variables and those are recreated for each function call. This way we are able to create a sentence that corresponds to how many times each subroutine has been called. This example is very similar to Haverbeke's <code>landscape</code> example on page 43:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> landscape <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span>
  <span class="kw">var</span> result <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span>
  <span class="kw">var</span> flat <span class="op">=</span> <span class="kw">function</span>(size) <span class="op">{</span>
    <span class="cf">for</span> (<span class="kw">var</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> count <span class="op">&lt;</span> size<span class="op">;</span> count<span class="op">++</span>)
      result <span class="op">+=</span> <span class="st">&quot;_&quot;</span><span class="op">;</span>
  <span class="op">};</span>
  <span class="kw">var</span> mountain <span class="op">=</span> <span class="kw">function</span>(size) <span class="op">{</span>
    result <span class="op">+=</span> <span class="st">&quot;/&quot;</span><span class="op">;</span>
    <span class="cf">for</span> (<span class="kw">var</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> count <span class="op">&lt;</span> size<span class="op">;</span> count<span class="op">++</span>)
      result <span class="op">+=</span> <span class="st">&quot;&#39;&quot;</span><span class="op">;</span>
    result <span class="op">+=</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">&quot;</span><span class="op">;</span>
  <span class="op">};</span>

  <span class="at">flat</span>(<span class="dv">3</span>)<span class="op">;</span>
  <span class="at">mountain</span>(<span class="dv">4</span>)<span class="op">;</span>
  <span class="at">flat</span>(<span class="dv">6</span>)<span class="op">;</span>
  <span class="at">mountain</span>(<span class="dv">1</span>)<span class="op">;</span>
  <span class="at">flat</span>(<span class="dv">1</span>)<span class="op">;</span>
  <span class="cf">return</span> result<span class="op">;</span>
<span class="op">};</span>

<span class="va">console</span>.<span class="at">log</span>(<span class="at">landscape</span>())<span class="op">;</span> <span class="co">// â†’ ___/&#39;&#39;&#39;&#39;\______/&#39;\_</span></code></pre></div>
<p>In both cases the fact that functions create their own local variables means functions have the ability to do work that does not interfere with other function's work.</p>
